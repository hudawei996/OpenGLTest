# Day 02: æ¸²æŸ“ç¬¬ä¸€ä¸ªä¸‰è§’å½¢

## ğŸ“š ä»Šæ—¥ç›®æ ‡

- ç†è§£ OpenGL æ¸²æŸ“ç®¡çº¿çš„å·¥ä½œæµç¨‹
- æŒæ¡é¡¶ç‚¹æ•°æ®çš„åˆ›å»ºå’Œä¼ é€’
- å­¦ä¹ ç€è‰²å™¨ï¼ˆShaderï¼‰çš„åŸºæœ¬æ¦‚å¿µ
- ç¼–å†™ç¬¬ä¸€ä¸ªé¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡æ®µç€è‰²å™¨
- æˆåŠŸæ¸²æŸ“ä¸€ä¸ªå½©è‰²ä¸‰è§’å½¢

## ğŸ¯ å­¦ä¹ å†…å®¹

### 1. OpenGL æ¸²æŸ“ç®¡çº¿

#### æ¸²æŸ“ç®¡çº¿æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¡¶ç‚¹æ•°æ®      â”‚  â† å®šä¹‰å½¢çŠ¶çš„é¡¶ç‚¹åæ ‡
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¡¶ç‚¹ç€è‰²å™¨    â”‚  â† å¤„ç†æ¯ä¸ªé¡¶ç‚¹ï¼ˆä½ç½®å˜æ¢ç­‰ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å›¾å…ƒè£…é…      â”‚  â† å°†é¡¶ç‚¹ç»„è£…æˆä¸‰è§’å½¢
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…‰æ …åŒ–        â”‚  â† å°†ä¸‰è§’å½¢è½¬æ¢ä¸ºç‰‡æ®µï¼ˆåƒç´ ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç‰‡æ®µç€è‰²å™¨    â”‚  â† è®¡ç®—æ¯ä¸ªç‰‡æ®µï¼ˆåƒç´ ï¼‰çš„é¢œè‰²
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¸§ç¼“å†²        â”‚  â† æœ€ç»ˆæ˜¾ç¤ºåˆ°å±å¹•
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- **é¡¶ç‚¹ï¼ˆVertexï¼‰**ï¼šå®šä¹‰å½¢çŠ¶çš„ç‚¹ï¼ŒåŒ…å«ä½ç½®ã€é¢œè‰²ç­‰ä¿¡æ¯
- **å›¾å…ƒï¼ˆPrimitiveï¼‰**ï¼šåŸºæœ¬å›¾å½¢å•å…ƒï¼Œå¦‚ç‚¹ã€çº¿ã€ä¸‰è§’å½¢
- **ç‰‡æ®µï¼ˆFragmentï¼‰**ï¼šå…‰æ …åŒ–åçš„åƒç´ å€™é€‰ï¼ŒåŒ…å«ä½ç½®ã€é¢œè‰²ç­‰ä¿¡æ¯
- **ç€è‰²å™¨ï¼ˆShaderï¼‰**ï¼šè¿è¡Œåœ¨ GPU ä¸Šçš„å°ç¨‹åº

### 2. ç€è‰²å™¨ï¼ˆShaderï¼‰

#### ä»€ä¹ˆæ˜¯ç€è‰²å™¨ï¼Ÿ

ç€è‰²å™¨æ˜¯ç”¨ **GLSLï¼ˆOpenGL Shading Languageï¼‰** ç¼–å†™çš„ç¨‹åºï¼Œè¿è¡Œåœ¨ GPU ä¸Šï¼Œç”¨äºæ§åˆ¶æ¸²æŸ“ç®¡çº¿çš„æŸäº›é˜¶æ®µã€‚

#### OpenGL ES 2.0 çš„ä¸¤ç§ç€è‰²å™¨

| ç€è‰²å™¨ç±»å‹ | ä½œç”¨ | è¾“å…¥ | è¾“å‡º |
|-----------|------|------|------|
| é¡¶ç‚¹ç€è‰²å™¨ (Vertex Shader) | å¤„ç†æ¯ä¸ªé¡¶ç‚¹ | é¡¶ç‚¹å±æ€§ | é¡¶ç‚¹ä½ç½®ã€varying å˜é‡ |
| ç‰‡æ®µç€è‰²å™¨ (Fragment Shader) | è®¡ç®—æ¯ä¸ªç‰‡æ®µçš„é¢œè‰² | varying å˜é‡ | ç‰‡æ®µé¢œè‰² |

#### é¡¶ç‚¹ç€è‰²å™¨ç¤ºä¾‹

```glsl
// æœ€ç®€å•çš„é¡¶ç‚¹ç€è‰²å™¨
attribute vec4 aPosition;  // è¾“å…¥ï¼šé¡¶ç‚¹ä½ç½®
void main() {
    gl_Position = aPosition;  // è¾“å‡ºï¼šé¡¶ç‚¹ä½ç½®
}
```

#### ç‰‡æ®µç€è‰²å™¨ç¤ºä¾‹

```glsl
// æœ€ç®€å•çš„ç‰‡æ®µç€è‰²å™¨
precision mediump float;  // ç²¾åº¦å£°æ˜
void main() {
    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);  // è¾“å‡ºï¼šçº¢è‰²
}
```

### 3. GLSL åŸºç¡€è¯­æ³•

#### å˜é‡ç±»å‹

| ä¿®é¥°ç¬¦ | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| `attribute` | é¡¶ç‚¹å±æ€§ï¼Œæ¯ä¸ªé¡¶ç‚¹ä¸åŒ | ä»…é¡¶ç‚¹ç€è‰²å™¨ï¼Œæ¥æ”¶é¡¶ç‚¹æ•°æ® |
| `uniform` | ç»Ÿä¸€å˜é‡ï¼Œæ‰€æœ‰é¡¶ç‚¹/ç‰‡æ®µç›¸åŒ | ä¸¤ç§ç€è‰²å™¨éƒ½å¯ç”¨ï¼Œä¼ é€’å¸¸é‡ |
| `varying` | æ˜“å˜å˜é‡ï¼Œä»é¡¶ç‚¹ä¼ åˆ°ç‰‡æ®µ | é¡¶ç‚¹ç€è‰²å™¨è¾“å‡ºâ†’ç‰‡æ®µç€è‰²å™¨è¾“å…¥ |

#### æ•°æ®ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `float` | æµ®ç‚¹æ•° | `float a = 1.0;` |
| `vec2` | 2D å‘é‡ | `vec2 pos = vec2(0.0, 1.0);` |
| `vec3` | 3D å‘é‡ | `vec3 color = vec3(1.0, 0.0, 0.0);` |
| `vec4` | 4D å‘é‡ | `vec4 rgba = vec4(1.0, 0.0, 0.0, 1.0);` |
| `mat4` | 4x4 çŸ©é˜µ | `mat4 matrix;` |

### 4. é¡¶ç‚¹æ•°æ®

#### å®šä¹‰ä¸‰è§’å½¢çš„é¡¶ç‚¹

åœ¨ OpenGL çš„æ ‡å‡†åŒ–åæ ‡ç³»ä¸­ï¼ˆNDCï¼‰ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªä¸‰è§’å½¢ï¼š

```kotlin
val vertices = floatArrayOf(
    // x,    y,    z
     0.0f,  0.5f, 0.0f,  // é¡¶ç‚¹ 0ï¼šä¸Šæ–¹
    -0.5f, -0.5f, 0.0f,  // é¡¶ç‚¹ 1ï¼šå·¦ä¸‹
     0.5f, -0.5f, 0.0f   // é¡¶ç‚¹ 2ï¼šå³ä¸‹
)
```

#### é¡¶ç‚¹ç¼“å†²å¯¹è±¡ï¼ˆVBOï¼‰

OpenGL ä¸èƒ½ç›´æ¥ä½¿ç”¨ Java/Kotlin æ•°ç»„ï¼Œéœ€è¦è½¬æ¢ä¸º **ByteBuffer**ï¼š

```kotlin
val vertexBuffer = ByteBuffer.allocateDirect(vertices.size * 4)
    .order(ByteOrder.nativeOrder())  // ä½¿ç”¨æœ¬åœ°å­—èŠ‚åº
    .asFloatBuffer()                  // è½¬æ¢ä¸º Float ç¼“å†²
    .put(vertices)                    // å¡«å……æ•°æ®
    .position(0)                      // é‡ç½®ä½ç½®
```

**ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Ÿ**
- Java æ•°ç»„åœ¨å †å†…å­˜ï¼Œå¯èƒ½è¢« GC ç§»åŠ¨
- ByteBuffer ä½¿ç”¨ç›´æ¥å†…å­˜ï¼ŒOpenGL å¯ä»¥ç›´æ¥è®¿é—®
- å­—èŠ‚åºé—®é¢˜ï¼šä¸åŒå¹³å°å¯èƒ½ä¸åŒ

### 5. ç€è‰²å™¨ç¨‹åºçš„ç¼–è¯‘å’Œé“¾æ¥

#### å®Œæ•´æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¡¶ç‚¹ç€è‰²å™¨   â”‚      â”‚ ç‰‡æ®µç€è‰²å™¨   â”‚
â”‚ æºä»£ç        â”‚      â”‚ æºä»£ç        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚
       â†“ ç¼–è¯‘                â†“ ç¼–è¯‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¡¶ç‚¹ç€è‰²å™¨   â”‚      â”‚ ç‰‡æ®µç€è‰²å™¨   â”‚
â”‚ å¯¹è±¡         â”‚      â”‚ å¯¹è±¡         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“ é“¾æ¥
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ ç€è‰²å™¨ç¨‹åº  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä»£ç æ­¥éª¤

```kotlin
// 1. åˆ›å»ºç€è‰²å™¨å¯¹è±¡
val vertexShader = GLES20.glCreateShader(GLES20.GL_VERTEX_SHADER)

// 2. ä¸Šä¼ ç€è‰²å™¨æºä»£ç 
GLES20.glShaderSource(vertexShader, vertexShaderCode)

// 3. ç¼–è¯‘ç€è‰²å™¨
GLES20.glCompileShader(vertexShader)

// 4. æ£€æŸ¥ç¼–è¯‘çŠ¶æ€
val status = IntArray(1)
GLES20.glGetShaderiv(vertexShader, GLES20.GL_COMPILE_STATUS, status, 0)
if (status[0] == 0) {
    // ç¼–è¯‘å¤±è´¥ï¼Œè·å–é”™è¯¯ä¿¡æ¯
    val log = GLES20.glGetShaderInfoLog(vertexShader)
    throw RuntimeException("Shader compilation failed: $log")
}

// ç‰‡æ®µç€è‰²å™¨åŒç†...

// 5. åˆ›å»ºç¨‹åºå¯¹è±¡
val program = GLES20.glCreateProgram()

// 6. é™„åŠ ç€è‰²å™¨
GLES20.glAttachShader(program, vertexShader)
GLES20.glAttachShader(program, fragmentShader)

// 7. é“¾æ¥ç¨‹åº
GLES20.glLinkProgram(program)

// 8. æ£€æŸ¥é“¾æ¥çŠ¶æ€ï¼ˆç±»ä¼¼ç¼–è¯‘æ£€æŸ¥ï¼‰
```

## ğŸ’» ä»£ç å®è·µ

### Day02Renderer æ ¸å¿ƒä»£ç 

```kotlin
class Day02Renderer : GLSurfaceView.Renderer {

    // ç€è‰²å™¨æºä»£ç 
    private val vertexShaderCode = """
        attribute vec4 aPosition;
        void main() {
            gl_Position = aPosition;
        }
    """.trimIndent()

    private val fragmentShaderCode = """
        precision mediump float;
        void main() {
            gl_FragColor = vec4(1.0, 0.5, 0.2, 1.0);
        }
    """.trimIndent()

    // ä¸‰è§’å½¢é¡¶ç‚¹
    private val vertices = floatArrayOf(
         0.0f,  0.5f, 0.0f,
        -0.5f, -0.5f, 0.0f,
         0.5f, -0.5f, 0.0f
    )

    private lateinit var vertexBuffer: FloatBuffer
    private var program: Int = 0
    private var aPositionLocation: Int = 0

    override fun onSurfaceCreated(gl: GL10?, config: EGLConfig?) {
        // è®¾ç½®èƒŒæ™¯è‰²
        GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f)

        // åˆ›å»ºé¡¶ç‚¹ç¼“å†²
        vertexBuffer = ByteBuffer.allocateDirect(vertices.size * 4)
            .order(ByteOrder.nativeOrder())
            .asFloatBuffer()
            .put(vertices)
        vertexBuffer.position(0)

        // ç¼–è¯‘ç€è‰²å™¨
        val vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexShaderCode)
        val fragmentShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentShaderCode)

        // åˆ›å»ºç¨‹åº
        program = GLES20.glCreateProgram()
        GLES20.glAttachShader(program, vertexShader)
        GLES20.glAttachShader(program, fragmentShader)
        GLES20.glLinkProgram(program)

        // è·å– attribute ä½ç½®
        aPositionLocation = GLES20.glGetAttribLocation(program, "aPosition")
    }

    override fun onSurfaceChanged(gl: GL10?, width: Int, height: Int) {
        GLES20.glViewport(0, 0, width, height)
    }

    override fun onDrawFrame(gl: GL10?) {
        // æ¸…å±
        GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT)

        // ä½¿ç”¨ç¨‹åº
        GLES20.glUseProgram(program)

        // å¯ç”¨é¡¶ç‚¹å±æ€§
        GLES20.glEnableVertexAttribArray(aPositionLocation)

        // ä¼ é€’é¡¶ç‚¹æ•°æ®
        GLES20.glVertexAttribPointer(
            aPositionLocation,  // å±æ€§ä½ç½®
            3,                  // æ¯ä¸ªé¡¶ç‚¹çš„åˆ†é‡æ•°ï¼ˆx, y, zï¼‰
            GLES20.GL_FLOAT,    // æ•°æ®ç±»å‹
            false,              // æ˜¯å¦å½’ä¸€åŒ–
            0,                  // æ­¥é•¿ï¼ˆ0 è¡¨ç¤ºç´§å¯†æ’åˆ—ï¼‰
            vertexBuffer        // æ•°æ®ç¼“å†²
        )

        // ç»˜åˆ¶ä¸‰è§’å½¢
        GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, 3)

        // ç¦ç”¨é¡¶ç‚¹å±æ€§
        GLES20.glDisableVertexAttribArray(aPositionLocation)
    }

    private fun loadShader(type: Int, shaderCode: String): Int {
        val shader = GLES20.glCreateShader(type)
        GLES20.glShaderSource(shader, shaderCode)
        GLES20.glCompileShader(shader)
        return shader
    }
}
```

## ğŸ¨ ç»ƒä¹ ä»»åŠ¡

### åŸºç¡€ä»»åŠ¡

1. **è¿è¡Œä»£ç ï¼Œçœ‹åˆ°æ©™è‰²ä¸‰è§’å½¢**
   - åœ¨ MainActivity ç‚¹å‡»"Day 02"
   - ç¡®è®¤èƒ½çœ‹åˆ°ä¸€ä¸ªæ©™è‰²ä¸‰è§’å½¢

2. **ä¿®æ”¹ä¸‰è§’å½¢é¢œè‰²**
   - åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­ä¿®æ”¹ `gl_FragColor` çš„å€¼
   - å°è¯•ï¼šçº¢è‰² (1, 0, 0, 1)ã€ç»¿è‰² (0, 1, 0, 1)ã€è“è‰² (0, 0, 1, 1)

3. **ä¿®æ”¹ä¸‰è§’å½¢å½¢çŠ¶**
   - ä¿®æ”¹é¡¶ç‚¹åæ ‡ï¼Œæ”¹å˜ä¸‰è§’å½¢çš„å¤§å°å’Œä½ç½®
   - å°è¯•åˆ›å»ºä¸åŒå½¢çŠ¶çš„ä¸‰è§’å½¢

### è¿›é˜¶ä»»åŠ¡

1. **æ¸²æŸ“å¤šä¸ªä¸‰è§’å½¢**
   - å¢åŠ é¡¶ç‚¹æ•°æ®ï¼Œç»˜åˆ¶ä¸¤ä¸ªä¸‰è§’å½¢
   - æç¤ºï¼š6 ä¸ªé¡¶ç‚¹ï¼Œæ¯ 3 ä¸ªç»„æˆä¸€ä¸ªä¸‰è§’å½¢

2. **æ¸å˜è‰²ä¸‰è§’å½¢**
   - ä¸ºæ¯ä¸ªé¡¶ç‚¹æ·»åŠ é¢œè‰²å±æ€§
   - ä½¿ç”¨ varying å˜é‡ä¼ é€’é¢œè‰²
   - å®ç°é¡¶ç‚¹é¢œè‰²æ’å€¼

3. **ç»˜åˆ¶æ­£æ–¹å½¢**
   - ä½¿ç”¨ä¸¤ä¸ªä¸‰è§’å½¢æ‹¼æ¥æˆæ­£æ–¹å½¢
   - æ€è€ƒï¼šä¸ºä»€ä¹ˆéœ€è¦ 6 ä¸ªé¡¶ç‚¹ï¼Ÿ

## ğŸ“– é‡è¦æ¦‚å¿µæ€»ç»“

### OpenGL ES æ ¸å¿ƒ APIï¼ˆæ–°å­¦çš„ï¼‰

| API | è¯´æ˜ |
|-----|------|
| `glCreateShader(type)` | åˆ›å»ºç€è‰²å™¨å¯¹è±¡ |
| `glShaderSource(shader, source)` | ä¸Šä¼ ç€è‰²å™¨æºä»£ç  |
| `glCompileShader(shader)` | ç¼–è¯‘ç€è‰²å™¨ |
| `glCreateProgram()` | åˆ›å»ºç¨‹åºå¯¹è±¡ |
| `glAttachShader(program, shader)` | é™„åŠ ç€è‰²å™¨åˆ°ç¨‹åº |
| `glLinkProgram(program)` | é“¾æ¥ç¨‹åº |
| `glUseProgram(program)` | ä½¿ç”¨ç¨‹åº |
| `glGetAttribLocation(program, name)` | è·å– attribute ä½ç½® |
| `glEnableVertexAttribArray(location)` | å¯ç”¨é¡¶ç‚¹å±æ€§æ•°ç»„ |
| `glVertexAttribPointer(...)` | æŒ‡å®šé¡¶ç‚¹å±æ€§æ•°æ® |
| `glDrawArrays(mode, first, count)` | ç»˜åˆ¶å›¾å…ƒ |

### å…³é”®æœ¯è¯­

- **Vertex Shader**ï¼šé¡¶ç‚¹ç€è‰²å™¨
- **Fragment Shader**ï¼šç‰‡æ®µç€è‰²å™¨
- **GLSL**ï¼šOpenGL ç€è‰²è¯­è¨€
- **Attribute**ï¼šé¡¶ç‚¹å±æ€§
- **Uniform**ï¼šç»Ÿä¸€å˜é‡
- **Varying**ï¼šæ˜“å˜å˜é‡
- **VBO**ï¼šé¡¶ç‚¹ç¼“å†²å¯¹è±¡

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆçœ‹ä¸åˆ°ä¸‰è§’å½¢ï¼Ÿ

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] ç€è‰²å™¨ç¼–è¯‘é“¾æ¥æˆåŠŸï¼Ÿ
- [ ] è°ƒç”¨äº† `glUseProgram(program)`ï¼Ÿ
- [ ] é¡¶ç‚¹åæ ‡åœ¨ [-1, 1] èŒƒå›´å†…ï¼Ÿ
- [ ] è°ƒç”¨äº† `glEnableVertexAttribArray`ï¼Ÿ
- [ ] Alpha å€¼è®¾ç½®ä¸º 1.0ï¼Ÿ

### Q2: ä¸‰è§’å½¢æ–¹å‘åäº†æ€ä¹ˆåŠï¼Ÿ

OpenGL é»˜è®¤ä½¿ç”¨**é€†æ—¶é’ˆ**é¡ºåºå®šä¹‰æ­£é¢ã€‚è°ƒæ•´é¡¶ç‚¹é¡ºåºå³å¯ã€‚

### Q3: ByteBuffer ä¸ºä»€ä¹ˆè¦ allocateDirectï¼Ÿ

- `allocate()`ï¼šåœ¨ JVM å †ä¸Šåˆ†é…ï¼Œä¼šè¢« GC ç®¡ç†
- `allocateDirect()`ï¼šåœ¨æœ¬åœ°å†…å­˜åˆ†é…ï¼ŒOpenGL å¯ç›´æ¥è®¿é—®

### Q4: glVertexAttribPointer çš„å‚æ•°æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

```kotlin
glVertexAttribPointer(
    location,      // attribute çš„ä½ç½®
    size,          // æ¯ä¸ªé¡¶ç‚¹å‡ ä¸ªåˆ†é‡ï¼ˆ2/3/4ï¼‰
    type,          // æ•°æ®ç±»å‹ï¼ˆGL_FLOATç­‰ï¼‰
    normalized,    // æ˜¯å¦å½’ä¸€åŒ–
    stride,        // æ­¥é•¿ï¼ˆå­—èŠ‚ï¼‰
    buffer         // æ•°æ®ç¼“å†²
)
```

## ğŸ”— æ‰©å±•é˜…è¯»

- [GLSL è¯­æ³•å¿«é€Ÿå‚è€ƒ](https://www.khronos.org/files/opengl-quick-reference-card.pdf)
- [é¡¶ç‚¹å±æ€§è¯¦è§£](https://developer.android.com/develop/ui/views/graphics/opengl/draw)

## âœ… ä»Šæ—¥å°ç»“

ä»Šå¤©æˆ‘ä»¬ï¼š
1. âœ… ç†è§£äº† OpenGL æ¸²æŸ“ç®¡çº¿çš„æµç¨‹
2. âœ… å­¦ä¹ äº†ç€è‰²å™¨çš„åŸºæœ¬æ¦‚å¿µå’Œ GLSL è¯­æ³•
3. âœ… æŒæ¡äº†é¡¶ç‚¹æ•°æ®çš„åˆ›å»ºå’Œä¼ é€’
4. âœ… ç¼–å†™äº†ç¬¬ä¸€ä¸ªç€è‰²å™¨ç¨‹åº
5. âœ… æˆåŠŸæ¸²æŸ“äº†ä¸€ä¸ªä¸‰è§’å½¢

**æ˜å¤©é¢„å‘Š**ï¼šæ·±å…¥å­¦ä¹  GLSL ç€è‰²è¯­è¨€ï¼Œå®ç°æ›´å¤æ‚çš„ç€è‰²æ•ˆæœï¼ğŸš€

---

**å­¦ä¹ æ£€æŸ¥æ¸…å•**ï¼š
- [ ] ç†è§£æ¸²æŸ“ç®¡çº¿çš„ 6 ä¸ªé˜¶æ®µ
- [ ] èƒ½å¤Ÿç¼–å†™ç®€å•çš„é¡¶ç‚¹å’Œç‰‡æ®µç€è‰²å™¨
- [ ] ç†è§£ attributeã€uniformã€varying çš„åŒºåˆ«
- [ ] çŸ¥é“å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨ ByteBuffer
- [ ] æˆåŠŸæ¸²æŸ“äº†ä¸‰è§’å½¢å¹¶ä¿®æ”¹äº†é¢œè‰²
